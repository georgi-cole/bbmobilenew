/* ─── CrownAnimation ──────────────────────────────────────────────────────────
 * Full-screen celebratory overlay for competition winner announcements.
 * ──────────────────────────────────────────────────────────────────────────── */

.crown-anim {
  position: fixed;
  inset: 0;
  z-index: 8700;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.35s ease;
}

.crown-anim--visible { opacity: 1; }
.crown-anim--exiting { opacity: 0; }

.crown-anim__backdrop {
  position: absolute;
  inset: 0;
  background: radial-gradient(ellipse at center, rgba(255,180,0,0.18) 0%, rgba(0,0,0,0.82) 70%);
}

.crown-anim__content {
  position: relative;
  z-index: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.6rem;
  overflow: hidden;
}

/* Crown emoji — scales in and gently rotates */
.crown-anim__crown {
  font-size: 4rem;
  line-height: 1;
  display: block;
  animation: crownScaleIn 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards,
             crownWobble 2s ease-in-out 0.6s infinite;
  transform-origin: center bottom;
}

@keyframes crownScaleIn {
  from { transform: scale(0) rotate(-20deg); opacity: 0; }
  to   { transform: scale(1) rotate(0deg);  opacity: 1; }
}

@keyframes crownWobble {
  0%   { transform: rotate(0deg)  scale(1.05); }
  25%  { transform: rotate(8deg)  scale(1.05); }
  50%  { transform: rotate(-8deg) scale(1.05); }
  75%  { transform: rotate(4deg)  scale(1.05); }
  100% { transform: rotate(0deg)  scale(1.05); }
}

.crown-anim__avatar {
  animation: crownAvatarIn 0.5s 0.15s cubic-bezier(0.34, 1.56, 0.64, 1) both;
}

@keyframes crownAvatarIn {
  from { transform: scale(0.5); opacity: 0; }
  to   { transform: scale(1);   opacity: 1; }
}

.crown-anim__winner-name {
  margin: 0;
  font-size: 1.5rem;
  font-weight: 800;
  color: #fff;
  text-shadow: 0 2px 12px rgba(0,0,0,0.8);
  animation: crownTextIn 0.4s 0.3s ease both;
}

.crown-anim__label {
  margin: 0;
  font-size: 0.95rem;
  font-weight: 600;
  letter-spacing: 0.06em;
  color: rgba(255, 200, 60, 0.9);
  animation: crownTextIn 0.4s 0.45s ease both;
}

@keyframes crownTextIn {
  from { opacity: 0; transform: translateY(10px); }
  to   { opacity: 1; transform: translateY(0); }
}

/* Diagonal shine sweep */
.crown-anim__shine {
  position: absolute;
  inset: 0;
  background: linear-gradient(
    115deg,
    transparent 30%,
    rgba(255, 220, 100, 0.35) 50%,
    transparent 70%
  );
  animation: crownShine 1.4s 0.2s ease-out forwards;
  pointer-events: none;
}

@keyframes crownShine {
  from { transform: translateX(-100%); }
  to   { transform: translateX(200%); }
}

/* ── Reduce motion ──────────────────────────────────────────────────────── */
@media (prefers-reduced-motion: reduce) {
  .crown-anim__crown,
  .crown-anim__avatar,
  .crown-anim__winner-name,
  .crown-anim__label,
  .crown-anim__shine {
    animation: none !important;
  }
  .crown-anim__crown { opacity: 1; transform: none; }
  .crown-anim__avatar { opacity: 1; transform: none; }
  .crown-anim__winner-name,
  .crown-anim__label { opacity: 1; transform: none; }
  .crown-anim__shine { display: none; }
}
